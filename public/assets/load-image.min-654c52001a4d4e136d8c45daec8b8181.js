!function(e){"use strict";var t=function(e,i,n){var r,a,d=document.createElement("img");return d.onerror=i,d.onload=function(){a&&t.revokeObjectURL(a),i(t.scale(d,n))},r=window.Blob&&e instanceof Blob||window.File&&e instanceof File?a=t.createObjectURL(e):e,r?(d.src=r,d):t.readFile(e,function(e){d.src=e})},i=window.createObjectURL&&window||window.URL&&URL||window.webkitURL&&webkitURL;t.scale=function(e,t){t=t||{};var i=document.createElement("canvas"),n=Math.max((t.minWidth||e.width)/e.width,(t.minHeight||e.height)/e.height);return n>1&&(e.width=parseInt(e.width*n,10),e.height=parseInt(e.height*n,10)),n=Math.min((t.maxWidth||e.width)/e.width,(t.maxHeight||e.height)/e.height),1>n&&(e.width=parseInt(e.width*n,10),e.height=parseInt(e.height*n,10)),t.canvas&&i.getContext?(i.width=e.width,i.height=e.height,i.getContext("2d").drawImage(e,0,0,e.width,e.height),i):e},t.createObjectURL=function(e){return i?i.createObjectURL(e):!1},t.revokeObjectURL=function(e){return i?i.revokeObjectURL(e):!1},t.readFile=function(e,t){if(window.FileReader&&FileReader.prototype.readAsDataURL){var i=new FileReader;return i.onload=function(e){t(e.target.result)},i.readAsDataURL(e),i}return!1},"undefined"!=typeof define&&define.amd?define(function(){return t}):e.loadImage=t}(this);